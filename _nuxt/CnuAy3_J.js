import{_ as k}from"./CLD_lnXY.js";import{u as y}from"./BogkucXa.js";import{m as v,n as _,o as l,c,a as e,u as r,d,b as m,w as H,F as M,p as b,q as P,s as C,_ as f,t as L,v as B,x,y as I,z as w}from"./C4R8SpHU.js";const G={class:"catalog-item"},N={class:"image-container"},V=["src","alt"],A={class:"info-container"},D=["innerHTML"],Q=["innerHTML"],U=["innerHTML"],z=["innerHTML"],E=["innerHTML"],F=v({__name:"CatalogItem",props:{item:{}},setup(i){const s=y(),o=_(()=>s.searchQuery),a=(n,t)=>t&&n.replaceAll(t,`<span class='highlight'>${t}</span>`)||n;return(n,t)=>{const u=k;return l(),c("div",G,[e("div",N,[e("img",{src:n.item.imgUrl,alt:n.item.title,width:"64"},null,8,V)]),e("div",A,[e("h3",{class:"title",innerHTML:a(n.item.title,r(o))},null,8,D),e("p",null,[t[0]||(t[0]=d("Published Date: ")),e("span",{innerHTML:a(n.item.date,r(o))},null,8,Q)]),e("p",null,[t[1]||(t[1]=d("Country: ")),e("span",{innerHTML:a(n.item.country,r(o))},null,8,U)]),e("p",null,[t[2]||(t[2]=d("Author: ")),e("span",{innerHTML:a(n.item.authors,r(o))},null,8,z)]),e("p",null,[t[3]||(t[3]=d("ID: ")),e("span",{innerHTML:a(n.item.id,r(o))},null,8,E)]),m(u,{class:"read-more",to:`/item/${n.item.id}`},{default:H(()=>t[4]||(t[4]=[d("Read more")])),_:1},8,["to"])])])}}});var T=(i=>(i[i.Grid=0]="Grid",i[i.List=1]="List",i))(T||{});const Y=v({__name:"CatalogList",setup(i){const s=y(),o=_(()=>s.itemsWithPagination),a=_(()=>s.activeTypeLayout===T.Grid?"grid":"list");return(n,t)=>(l(),c("div",{class:C(a.value)},[(l(!0),c(M,null,b(o.value,u=>(l(),P(F,{key:u.id,item:u},null,8,["item"]))),128))],2))}}),q=f(Y,[["__scopeId","data-v-725b3b8e"]]),O={class:"button-container"},R=["onClick"],W=v({__name:"ToggleButtons",props:{buttons:{},active:{}},emits:["select"],setup(i,{emit:s}){const o=s;return(a,n)=>(l(),c("div",O,[(l(!0),c(M,null,b(a.buttons,t=>(l(),c("button",{class:C(["app-button",{active:t.value===a.active}]),key:t.value,onClick:u=>o("select",t.value)},L(t.text),11,R))),128))]))}}),$=f(W,[["__scopeId","data-v-49d66b4b"]]),j={class:"app-panel"},J={class:"item"},K={class:"item"},X={class:"item"},Z=v({__name:"SearchPanel",setup(i){const s=y(),o=[{text:"Grid",value:T.Grid},{text:"List",value:T.List}],a=_(()=>s.activeTypeLayout),n=_(()=>s.currentPage),t=_(()=>s.perPage),u=_(()=>{var h;const S=Math.ceil(((h=s.items)==null?void 0:h.length)/t.value),p=[];for(let g=1;g<=S;g++)p.push({text:String(g),value:g});return p});return(S,p)=>(l(),c("div",j,[e("div",J,[m($,{buttons:u.value,active:n.value,onSelect:r(s).setActiveStep},null,8,["buttons","active","onSelect"])]),e("div",K,[B(e("input",{class:"app-input",type:"text","onUpdate:modelValue":p[0]||(p[0]=h=>r(s).searchQuery=h),placeholder:"Search..."},null,512),[[x,r(s).searchQuery]])]),e("div",X,[m($,{buttons:o,active:a.value,onSelect:r(s).setTypeLayout},null,8,["active","onSelect"])])]))}}),tt=f(Z,[["__scopeId","data-v-a13291b2"]]),et={key:0},at=v({__name:"index",setup(i){const s=y();return I(async()=>{await s.fetchBooks()}),(o,a)=>{const n=q;return l(),c("div",null,[m(tt),o.loading?(l(),c("p",et,"Загрузка...")):w("",!0),e("pre",null,L(o.data),1),e("pre",null,L(o.error),1),e("pre",null,L(o.loading),1),m(n)])}}});export{at as default};
